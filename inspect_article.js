
const admin = require('firebase-admin');
const fs = require('fs');

const serviceAccountKey = "eyJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsICJwcm9qZWN0X2lkIjogInRlY2hyZXZpZXctbWd6LTE3NzE5NTIiLCAicHJpdmF0ZV9rZXlfaWQiOiAiY2NhZTQ1NGNjM2MzNjI1Y2Y4MmI4OWYzMDI2OGUwN2M0Y2Y5MjJiOSIsICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRRFFac1VWWmxyWE1LZnBcbmJ0ZmNPYjNBbXhHK3Fvd2pDMWpSRElRUEhIYm8vMzJES2Fja2tMN1kzdU9DdFIrTzhkRkg1RTVnUFVGNy93ZVlcbkFBTDVGaXk3YmFsNmZYQVo1WVhDMWtDVmhwR2VkcWNjTG45bTN6RGZYLzF6NE9DdVNuZDFYam0yNFBLaWpaUzZcbnRqeVFWMVZmb0VFaDV2eGhNNU1KVGxESkI2UnFJcEV2dHJubGtKVHltNW4wbVRELzZMeDBmbjZQTnRweUNwdzdcbk9PSlJvTGFrdEppejJBZ0RrYkpXdmRkK2NQMWJrMUdIaGwzWnplVUdBUVg4UHRTT0l2T3EyelJNVTBiME1LU29cbkVvQy91TjZGR3hnMy90RktEUm1vRUp4L2pNMlViUks4dW1SUkFmWXhpc1ROa2RMZ0t3WUpSVDYyeU1iSm96YTNcbko4eTNCTW1YQWdNQkFBRUNnZ0VBQWJReXZLYU9GcFZUYk13QnRYb1VERUpDKzdhWmw3aHMzUG9IdUdIb3NsQ29cbmM0MUFkeGc4aWVSa29zOGRUTVlRWDlDYU9Ceml4SzN2U2lCY2tJY2h1Q25yaVZDdVBSLzNIeTB3OFAxZExSa0FcbjY4WTdqTVB3RDl0NzVJUjhRefU1IeXB6S2JsV1U2ZkFUSWdadWlsNkhFUXlvUU5oc2RIL2FOTWs4WGNEZEtNMGxcbjRLQTZZSmtIamxSOXJ6a3ZDK2twNGZtc3dXN2dpN3dJcVU2RURaWldNUUtCZ1FEcVhGNGUvWjRtRWJxVWtwa2pcbko3cGsvbjdnWFNoWUNZNVZWR1RuSTM4b1dpWFB1WE1zQ3pXanIvMmp1QkVST1FVbUlyVDdFaE55M21LbC9oSnhcbndodW1QVndyeUJXQko5d0RvUkI4QVJvaDg3T0NhWjY0eEF3ZWZUZVBCNURwRVB6aFFhZzZqVlZ4aFVxRzNjYThcbmgvWVpSUzhoRHNtVFRwc1lPc1FSd3NtYTV3S0JnUURqcE11cTBWWG9rL2d6Tjl4aVhVbEZFZHhBbWl5WFlpQ0Ncbm81bjJMRDk2aHIvQTBvc3dQK3RRQTZtWTU4cWtTc1JROXY0YkpwR3hTYkZHQ0hNT21OOFJGeDFGU3FwRDFvYzhcbjQ0c0dXa0lBaUV6RC9RZ2Z1Z014S3ZTSDNEUW1tck9objZZYnJJd0paZXNJelltQlVWYUwzNXdZMDdwcDVGYi9cbjAzOEhsZGkxMFFLQmdRQ0tBVnByWlcxN2ZYVWhpRElsUVgvQmVSdTlneDMrdWFIWEhadE5nTm1nS1hXYW5ObjFcblZhU0FmMkljeG9kR1hRMXJKNFRyVS9tZjZ0U3NhckR4ekJ2OENLWCtJaFNIdWJFVmNnTURBcU1nMnlFWjZwaE1cbnRTVnR6czZvcXd2cU10YTJ6ck1CeDdoSTRQVEI5bGJSTGo3OUlvQmVOeGI4WjQxczl5MytSM1h3Z1FLQmdEY0JcbnJ5VUxpRksyenBheHZOTVg3NGg5RkZlWDZZWjY4NWdkcUNwUDd0YlFrSzByTXU3cHd4YUdqQWlpbWRpeEtGYllcbkYvYS9qeHpqemE0NmhITFdoYkEvZ1pjb3Y1TzgxdGpqc3NoS0x3Q3A3c0s4OWFXVThRaUVkS29QajVwMGIwdHlcbnBGU3prUE1FYVpLcTk3c0R5SUhyK25BVldVb1ZIdUNhWG11YXpjN0JBb0dCQUtLUTFBRlNDVFFWMGtRcDY3ZGxcbmduUmtGN3VFSFJZbkg3Q1N2aE9iVVd3ajFDYUNMeFNxNGVLaWNNZ1gyKzFlejZyaHRBMWdsQVYyeFFQQ2JLc0lcbjF1Qld4K3dYa0MvZ1c0Rk9TVjA5aHByUGdjWnVxSjFwVklYeGN3eS9CLzhldEhSTm9JbEgyd1lwSG5pTTNnbWRcbjNNanMvRzJtUWl6MC9kZm5UcjU4RGFYelxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwgImNsaWVudF9lbWFpbCI6ICJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0B0ZWNocmV2aWV3LW1nei0xNzcxOTUyLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwgImNsaWVudF9pZCI6ICIxMTMxMDkyMjkyODA1MzI3MTQ2NjgiLCAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLCAidG9rZW5fdXJpIjogImh0dHBzOi8vb2F1dGgyLmdvb2dsZWFwaXMuY29tL3Rva2VuIiwgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLCAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MHRlY2hyZXZpZXctbWd6LTE3NzE5NTIuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLCAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIn0=";
const decoded = Buffer.from(serviceAccountKey, 'base64').toString('utf-8');
const serviceAccount = JSON.parse(decoded);

admin.initializeApp({
    credential: admin.credential.cert(serviceAccount),
    projectId: 'techreview-mgz-1771952'
});

const db = admin.firestore();

async function getArticle() {
    const doc = await db.collection('articles').doc('104402').get();
    if (!doc.exists) {
        console.log('No such document!');
        process.exit(1);
    }
    const data = doc.data();
    console.log(JSON.stringify(data, null, 2));
}

getArticle().catch(console.error);
